!function(r,e){"use strict";function o(){function o(r){if(r){if(!r.short_name)throw new Error("ionicDuoshuo.config(); duoshuo.short_name is required");window.duoshuoQuery=r}}this.config=o,this.$get=["$rootScope",function(o){var n={};return r.forEach(["get","post","ajax"],function(r){n[r]=function(n,d,i,u,s){if(!window.DUOSHUO)throw new Error("duoshuo embed.js required!");var a=window.DUOSHUO.API;if(!a)throw new Error("duoshuo embed.js must be unstable version!");return t&&e.start(),a[r](n,d,function(r){t&&e.done(),i(0===r.code?null:new Error(r.code+" "+r.errorMessage),r.response,r),s||o.$apply()},function(r){return t&&e.done(),u&&"function"==typeof u?u(r):void 0})}}),n.on=function(r,e,n){if(0===["reset","ready"].indexOf(r))return e(new Error("event not found"));var t=r;return"ready"===t&&(t="reset"),window.DUOSHUO.visitor.on(t,function(){var r=this,t=this.data;e(null,t,r),n||o.$apply()})},n.render=function(r){if(!window.DUOSHUO)throw new Error("duoshuo embed.js required!");var e={};return r.threadId&&(e["thread-id"]=r.threadId),r.threadKey&&(e["thread-key"]=r.threadKey),window.DUOSHUO.createEmbedThread("div",e)},n}]}function n(e){return{restrict:"AE",replace:!0,template:'<div class="ds-thread-wrapper"></div>',link:function(o,n,t){r.element(document).ready(function(){r.element(n[0]).append(e.render(t))})}}}if(!r)throw new Error("angular.js required!");var t=e&&e.start&&e.done;r.module("duoshuo",[]).provider("duoshuo",o).directive("duoshuo",["duoshuo",n])}(window.angular,window.NProgress);
//# sourceMappingURL=duoshuo.min.js.map