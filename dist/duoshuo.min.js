!function(e,r){"use strict";function o(){function o(e){if(e){if(!e.short_name)throw new Error("duoshuo.config(); `short_name` is required");window.duoshuoQuery=e}}this.config=o,this.$get=["$rootScope",function(o){var n={};return e.forEach(["get","post","ajax"],function(e){n[e]=function(n,i,d,s,u){if(!window.DUOSHUO)throw new Error("duoshuo embed.js is required!");var c=window.DUOSHUO.API;if(!c)throw new Error("duoshuo embed.js must be unstable version!");return t&&r.start(),c[e](n,i,function(e){t&&r.done(),d(0===e.code?null:new Error(e.code+" "+e.errorMessage),e.response,e),u||o.$apply()},function(e){return t&&r.done(),s&&"function"==typeof s?s(e):void 0})}}),n.on=function(e,r,n){if(0===["reset","ready"].indexOf(e))return r(new Error("event not found"));var t=e;return"ready"===t&&(t="reset"),window.DUOSHUO.visitor.on(t,function(){var e=this,t=this.data;r(null,t,e),n||o.$apply()})},n.render=function(){if(!window.DUOSHUO||!window.DUOSHUO.initSelector)throw new Error("createDirective(); duoshuo embed.js is required!");return window.DUOSHUO.initSelector(window.DUOSHUO.selectors[".ds-thread"])},n}]}function n(e){return function(){return{restrict:"AE",replace:!0,template:'<div class="'+e+'">',link:function(){window.DUOSHUO&&window.DUOSHUO.initSelector&&window.DUOSHUO.initSelector(window.DUOSHUO.selectors["."+e])}}}}if(!e)throw new Error("Angular.js required!");var t=r&&r.start&&r.done;e.module("duoshuo",[]).provider("duoshuo",o).directive("dsThread",n("ds-thread")).directive("dsRecentComments",n("ds-recent-comments")).directive("dsRecentVisitors",n("ds-recent-visitors")).directive("dsThreadCount",n("ds-thread-count")).directive("dsTopThreads",n("ds-top-threads")).directive("dsLogin",n("ds-login"))}(window.angular,window.NProgress);
//# sourceMappingURL=duoshuo.min.js.map