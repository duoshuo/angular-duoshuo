!function(e,r){"use strict";function n(n){var o=this;e.forEach(["get","post","ajax"],function(e){o[e]=function(o,d,i,u,a){if(!window.DUOSHUO)throw new Error("duoshuo embed.js required!");var s=window.DUOSHUO.API;if(!s)throw new Error("duoshuo embed.js must be unstable version!");return t&&r.start(),s[e](o,d,function(e){t&&r.done(),i(0===e.code?null:new Error(e.code+" "+e.errorMessage),e.response,e),a||n.$apply()},function(e){return t&&r.done(),u&&"function"==typeof u?u(e):void 0})}}),this.on=function(e,r,o){if(0===["reset","ready"].indexOf(e))return r(new Error("event not found"));var t=e;return"ready"===t&&(t="reset"),window.DUOSHUO.visitor.on(t,function(){var e=this,t=this.data;r(null,t,e),o||n.$apply()})},this.render=function(e){if(!window.DUOSHUO)throw new Error("duoshuo embed.js required!");var r={};return e.threadId&&(r["thread-id"]=e.threadId),e.threadKey&&(r["thread-key"]=e.threadKey),window.DUOSHUO.createEmbedThread("div",r)}}function o(r){return{restrict:"AE",replace:!0,template:'<div class="ds-thread-wrapper"></div>',link:function(n,o,t){e.element(document).ready(function(){e.element(o[0]).append(r.render(t))})}}}if(!e)throw new Error("angular.js required!");var t=r&&r.start&&r.done;e.module("duoshuo",[]).service("$duoshuo",["$rootScope",n]).directive("duoshuo",["$duoshuo",o])}(window.angular,window.NProgress);
//# sourceMappingURL=duoshuo.min.js.map